# ğŸ—ï¸ System Architecture

Visual and detailed explanation of the Finance Dashboard architecture.

## ğŸ¯ High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER DEVICE                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    WEB BROWSER                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚         REACT APPLICATION (Client-Side)         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚     UI       â”‚  â”‚    State     â”‚           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  Components  â”‚â—„â”€â”¤   Context    â”‚           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         â”‚                  â”‚                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         â–¼                  â–¼                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚   Google Sheets Service      â”‚             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                  â”‚                             â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                     â”‚                                 â”‚  â”‚
â”‚  â”‚                     â”‚ HTTPS                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚      GOOGLE CLOUD SERVICES         â”‚
         â”‚                                    â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
         â”‚  â”‚  Google Identity Services    â”‚ â”‚
         â”‚  â”‚      (OAuth 2.0)             â”‚ â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
         â”‚                â”‚                   â”‚
         â”‚                â–¼                   â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
         â”‚  â”‚   Google Sheets API v4       â”‚ â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
         â”‚                â”‚                   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚        GOOGLE DRIVE                â”‚
         â”‚                                    â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
         â”‚  â”‚    User's Google Sheet       â”‚ â”‚
         â”‚  â”‚      (Database)              â”‚ â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
         â”‚                                    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Data Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    USER     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. Interacts
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React Components      â”‚
â”‚  (UI Layer)             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 2. Dispatches Action
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   App Context           â”‚
â”‚  (State Management)     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 3. Calls Service
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Google Sheets Service  â”‚
â”‚  (API Layer)            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 4. HTTP Request
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Google Sheets API      â”‚
â”‚  (External Service)     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 5. Updates Data
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Google Sheet          â”‚
â”‚   (Database)            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 6. Returns Response
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Google Sheets Service  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 7. Updates State
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   App Context           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 8. Re-renders
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React Components      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 9. Shows Updated UI
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    USER     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ Component Architecture

```
App
â”œâ”€â”€ AppProvider (Context)
â”‚   â”œâ”€â”€ State
â”‚   â”‚   â”œâ”€â”€ currentUser
â”‚   â”‚   â”œâ”€â”€ users[]
â”‚   â”‚   â”œâ”€â”€ transactions[]
â”‚   â”‚   â””â”€â”€ isLoading
â”‚   â”‚
â”‚   â””â”€â”€ Functions
â”‚       â”œâ”€â”€ saveUser()
â”‚       â”œâ”€â”€ switchUser()
â”‚       â”œâ”€â”€ addUser()
â”‚       â””â”€â”€ setTransactions()
â”‚
â””â”€â”€ Routes
    â”œâ”€â”€ Auth (Not Authenticated)
    â”‚   â”œâ”€â”€ User Selection
    â”‚   â””â”€â”€ User Creation
    â”‚
    â””â”€â”€ MainLayout (Authenticated)
        â”œâ”€â”€ Header
        â”‚   â”œâ”€â”€ User Info
        â”‚   â””â”€â”€ Logout Button
        â”‚
        â”œâ”€â”€ Navigation
        â”‚   â””â”€â”€ Tab Buttons
        â”‚
        â””â”€â”€ Content
            â”œâ”€â”€ GoogleSheetConnect
            â”‚   â”œâ”€â”€ OAuth Login
            â”‚   â”œâ”€â”€ Sheet ID Input
            â”‚   â””â”€â”€ Connection Test
            â”‚
            â”œâ”€â”€ Dashboard
            â”‚   â”œâ”€â”€ Month Selector
            â”‚   â”œâ”€â”€ Summary Cards
            â”‚   â”œâ”€â”€ Category Table/Chart
            â”‚   â”œâ”€â”€ Payment Chart
            â”‚   â””â”€â”€ Trend Chart
            â”‚
            â”œâ”€â”€ ExpenseForm
            â”‚   â”œâ”€â”€ Date Input
            â”‚   â”œâ”€â”€ Type Select
            â”‚   â”œâ”€â”€ Category Select
            â”‚   â”œâ”€â”€ Payment Select
            â”‚   â”œâ”€â”€ Amount Input
            â”‚   â””â”€â”€ Submit Button
            â”‚
            â”œâ”€â”€ History
            â”‚   â”œâ”€â”€ Filters
            â”‚   â”œâ”€â”€ Transaction Table
            â”‚   â”œâ”€â”€ Edit Modal
            â”‚   â””â”€â”€ Delete Confirm
            â”‚
            â”œâ”€â”€ Analytics
            â”‚   â”œâ”€â”€ Budget Progress
            â”‚   â”œâ”€â”€ Top Expenses
            â”‚   â”œâ”€â”€ Need vs Want
            â”‚   â””â”€â”€ Monthly Compare
            â”‚
            â””â”€â”€ Settings
                â”œâ”€â”€ Categories Tab
                â”œâ”€â”€ Cards Tab
                â”œâ”€â”€ Payments Tab
                â””â”€â”€ Income Tab
```

## ğŸ—„ï¸ Data Architecture

### LocalStorage Structure
```javascript
{
  // User Profiles
  "users": [
    {
      name: "User1",
      sheetId: "abc123...",
      categories: ["Food", "Transport", ...],
      cards: ["Credit Card", ...],
      paymentMethods: ["Cash", "UPI", ...],
      monthlyIncome: 50000,
      budgets: {
        "Food": 10000,
        "Transport": 5000
      }
    }
  ],
  
  // Current Active User
  "currentUser": "User1",
  
  // OAuth Token
  "google_access_token": "ya29.a0..."
}
```

### Google Sheet Structure
```
Row 1 (Headers):
| Date | Month | Category | SubCategory | PaymentMethod | CardName | Amount | Type | Notes |

Row 2+ (Data):
| 2024-01-15 | 2024-01 | Food | Restaurant | Card | Credit Card | 500 | Expense | Lunch |
| 2024-01-16 | 2024-01 | Transport | Fuel | Cash | - | 1000 | Expense | Petrol |
```

### State Structure
```javascript
{
  currentUser: {
    name: string,
    sheetId: string,
    categories: string[],
    cards: string[],
    paymentMethods: string[],
    monthlyIncome: number,
    budgets: object
  },
  
  users: User[],
  
  transactions: [
    {
      rowIndex: number,
      date: string,
      month: string,
      category: string,
      subCategory: string,
      paymentMethod: string,
      cardName: string,
      amount: number,
      type: string,
      notes: string
    }
  ],
  
  isLoading: boolean
}
```

## ğŸ” Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    USER     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. Clicks "Sign in with Google"
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React App             â”‚
â”‚   (initTokenClient)     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 2. Opens OAuth Popup
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Google Login Page      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 3. User Authenticates
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Google Consent Screen  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 4. User Grants Permissions
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Google OAuth Server    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 5. Returns Access Token
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React App             â”‚
â”‚   (stores token)        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 6. Token Stored in localStorage
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser Storage       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¡ API Communication

```
React Component
      â”‚
      â”‚ User Action (e.g., Add Expense)
      â–¼
googleSheetsService.addTransaction()
      â”‚
      â”‚ Prepare Request
      â–¼
fetch(Google Sheets API URL, {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer ' + accessToken,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(data)
})
      â”‚
      â”‚ HTTPS Request
      â–¼
Google Sheets API Server
      â”‚
      â”‚ Validates Token
      â”‚ Checks Permissions
      â”‚ Updates Sheet
      â–¼
Google Sheet (Database)
      â”‚
      â”‚ Returns Success Response
      â–¼
googleSheetsService
      â”‚
      â”‚ Parse Response
      â–¼
Update App State
      â”‚
      â”‚ Trigger Re-render
      â–¼
React Component
      â”‚
      â”‚ Show Updated UI
      â–¼
User Sees Change
```

## ğŸ”„ State Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              AppContext Provider                 â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚            Global State                 â”‚    â”‚
â”‚  â”‚  â€¢ currentUser                          â”‚    â”‚
â”‚  â”‚  â€¢ users[]                              â”‚    â”‚
â”‚  â”‚  â€¢ transactions[]                       â”‚    â”‚
â”‚  â”‚  â€¢ isLoading                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                      â”‚                           â”‚
â”‚                      â”‚ Provides                  â”‚
â”‚                      â–¼                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         Consumer Components             â”‚    â”‚
â”‚  â”‚  â€¢ Dashboard                            â”‚    â”‚
â”‚  â”‚  â€¢ ExpenseForm                          â”‚    â”‚
â”‚  â”‚  â€¢ History                              â”‚    â”‚
â”‚  â”‚  â€¢ Analytics                            â”‚    â”‚
â”‚  â”‚  â€¢ Settings                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                      â”‚                           â”‚
â”‚                      â”‚ Calls                     â”‚
â”‚                      â–¼                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         Context Functions               â”‚    â”‚
â”‚  â”‚  â€¢ saveUser()                           â”‚    â”‚
â”‚  â”‚  â€¢ switchUser()                         â”‚    â”‚
â”‚  â”‚  â€¢ setTransactions()                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                      â”‚                           â”‚
â”‚                      â”‚ Updates                   â”‚
â”‚                      â–¼                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         Global State                    â”‚    â”‚
â”‚  â”‚         (Updated)                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                      â”‚                           â”‚
â”‚                      â”‚ Triggers                  â”‚
â”‚                      â–¼                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         Component Re-render             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ UI Layer Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Tailwind CSS                     â”‚
â”‚              (Utility Classes)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ Styles
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              React Components                    â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  Presentationalâ”‚  â”‚  Container   â”‚            â”‚
â”‚  â”‚  Components   â”‚  â”‚  Components  â”‚            â”‚
â”‚  â”‚              â”‚  â”‚              â”‚            â”‚
â”‚  â”‚  â€¢ Cards     â”‚  â”‚  â€¢ Dashboard â”‚            â”‚
â”‚  â”‚  â€¢ Buttons   â”‚  â”‚  â€¢ History   â”‚            â”‚
â”‚  â”‚  â€¢ Forms     â”‚  â”‚  â€¢ Analytics â”‚            â”‚
â”‚  â”‚  â€¢ Charts    â”‚  â”‚  â€¢ Settings  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ Renders
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Browser DOM                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Chart Architecture

```
Transaction Data
      â”‚
      â”‚ Filter by Month
      â–¼
Month Transactions
      â”‚
      â”‚ Group by Category/Payment
      â–¼
Aggregated Data
      â”‚
      â”‚ Format for Chart.js
      â–¼
Chart Data Object
{
  labels: [...],
  datasets: [{
    data: [...],
    backgroundColor: [...]
  }]
}
      â”‚
      â”‚ Pass to Chart Component
      â–¼
react-chartjs-2
      â”‚
      â”‚ Renders
      â–¼
Chart.js Canvas
      â”‚
      â”‚ Displays
      â–¼
Visual Chart
```

## ğŸ”’ Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Security Layers                     â”‚
â”‚                                                  â”‚
â”‚  Layer 1: Google OAuth 2.0                      â”‚
â”‚  â”œâ”€ User Authentication                         â”‚
â”‚  â”œâ”€ Token-based Access                          â”‚
â”‚  â””â”€ Automatic Token Refresh                     â”‚
â”‚                                                  â”‚
â”‚  Layer 2: API Permissions                       â”‚
â”‚  â”œâ”€ Limited Scopes                              â”‚
â”‚  â”œâ”€ Sheet-level Access                          â”‚
â”‚  â””â”€ User-granted Permissions                    â”‚
â”‚                                                  â”‚
â”‚  Layer 3: Client-side Security                  â”‚
â”‚  â”œâ”€ No Backend Server                           â”‚
â”‚  â”œâ”€ Direct API Calls                            â”‚
â”‚  â””â”€ HTTPS Only (Production)                     â”‚
â”‚                                                  â”‚
â”‚  Layer 4: Data Privacy                          â”‚
â”‚  â”œâ”€ User-owned Sheets                           â”‚
â”‚  â”œâ”€ Private by Default                          â”‚
â”‚  â””â”€ No Third-party Access                       â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ Deployment Architecture

### Development
```
Developer Machine
      â”‚
      â”‚ npm start
      â–¼
React Dev Server
(localhost:3000)
      â”‚
      â”‚ Hot Reload
      â–¼
Browser
```

### Production
```
Source Code
      â”‚
      â”‚ npm run build
      â–¼
Optimized Build
      â”‚
      â”‚ Upload
      â–¼
Static Hosting
(Netlify/Vercel/etc.)
      â”‚
      â”‚ HTTPS
      â–¼
CDN
      â”‚
      â”‚ Serve
      â–¼
User Browser
```

## ğŸ“± Responsive Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Tailwind Breakpoints                   â”‚
â”‚                                                  â”‚
â”‚  Mobile First (default)                          â”‚
â”‚  â”œâ”€ Base styles                                 â”‚
â”‚  â””â”€ < 640px                                     â”‚
â”‚                                                  â”‚
â”‚  Tablet (md:)                                   â”‚
â”‚  â”œâ”€ Adjusted layouts                            â”‚
â”‚  â””â”€ â‰¥ 768px                                     â”‚
â”‚                                                  â”‚
â”‚  Desktop (lg:)                                  â”‚
â”‚  â”œâ”€ Multi-column                                â”‚
â”‚  â””â”€ â‰¥ 1024px                                    â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Update Cycle

```
User Action
    â†“
Component Event Handler
    â†“
Call Service Function
    â†“
API Request to Google
    â†“
Google Updates Sheet
    â†“
API Response
    â†“
Update App State
    â†“
React Re-renders
    â†“
UI Updates
    â†“
User Sees Change
```

## ğŸ“Š Performance Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Performance Optimizations                â”‚
â”‚                                                  â”‚
â”‚  1. State Management                            â”‚
â”‚     â””â”€ Context API (lightweight)                â”‚
â”‚                                                  â”‚
â”‚  2. API Calls                                   â”‚
â”‚     â”œâ”€ Minimal requests                         â”‚
â”‚     â””â”€ Cached in state                          â”‚
â”‚                                                  â”‚
â”‚  3. Rendering                                   â”‚
â”‚     â”œâ”€ Component-level updates                  â”‚
â”‚     â””â”€ Conditional rendering                    â”‚
â”‚                                                  â”‚
â”‚  4. Assets                                      â”‚
â”‚     â”œâ”€ Minimal dependencies                     â”‚
â”‚     â””â”€ Code splitting ready                     â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Architecture Principles

1. **Simplicity** - No unnecessary complexity
2. **Security** - OAuth 2.0 and user-controlled data
3. **Scalability** - Component-based architecture
4. **Maintainability** - Clear separation of concerns
5. **Performance** - Optimized API calls and rendering
6. **Reliability** - Error handling and loading states
7. **Accessibility** - Mobile-first responsive design

---

This architecture ensures a secure, performant, and maintainable personal finance dashboard.
